# ОТЧЕТ ПО ЛАБОРАТОРНОЙ РАБОТЕ

## Разработка веб-приложения для управления киберспортивной организацией

---

### Выполнил: [ФИО студента]
### Группа: [Номер группы]
### Дата: Декабрь 2024

---

## 1. ЦЕЛЬ РАБОТЫ

Разработать полнофункциональное веб-приложение для управления киберспортивной организацией с использованием современных веб-технологий. Приложение должно обеспечивать систему аутентификации, разграничение прав доступа на основе ролей пользователей и предоставлять административный интерфейс для управления пользователями, командами и турнирами.

---

## 2. ЗАДАЧИ РАБОТЫ

1. Проектирование архитектуры веб-приложения
2. Разработка базы данных с использованием PostgreSQL и Prisma ORM
3. Реализация системы аутентификации и авторизации
4. Создание пользовательского интерфейса с использованием React и Next.js
5. Разработка административной панели для управления системой
6. Реализация системы ролей (Администратор, Менеджер, Игрок)
7. Развертывание приложения на облачной платформе
8. Тестирование функционала приложения

---

## 3. ОПИСАНИЕ ПРОЕКТА

### 3.1. Общая характеристика

**CyberSportOrg** — это современное веб-приложение для управления киберспортивной организацией, разработанное с использованием технологий полного стека (Full-Stack). Приложение предоставляет комплексное решение для организации работы киберспортивных команд, управления игроками, менеджерами и проведения турниров.

### 3.2. Основные возможности системы


**Аутентификация и безопасность:**
- Защищенная система входа с использованием NextAuth.js
- Хеширование паролей с помощью bcryptjs
- Управление сессиями пользователей
- Защита маршрутов на основе ролей

**Управление пользователями:**
- Создание, редактирование и удаление учетных записей
- Назначение ролей пользователям
- Просмотр статистики по пользователям
- Управление профилями

**Система ролей:**
- **Администратор (ADMIN)** — полный доступ ко всем функциям системы
- **Менеджер (MANAGER)** — управление командами и турнирами
- **Игрок (PLAYER)** — просмотр информации и управление своим профилем

**Интерфейс:**
- Современный адаптивный дизайн
- Темная тема с градиентами
- Анимации и плавные переходы
- Интуитивная навигация

---

## 4. ТЕХНОЛОГИЧЕСКИЙ СТЕК

### 4.1. Frontend-технологии

| Технология | Версия | Назначение |
|------------|--------|------------|
| **Next.js** | 16.0.1 | React-фреймворк для серверного рендеринга и маршрутизации |
| **React** | 19.2.0 | Библиотека для создания пользовательских интерфейсов |
| **TypeScript** | 5.9.3 | Типизированный JavaScript для повышения надежности кода |
| **Tailwind CSS** | 3.4.18 | Utility-first CSS фреймворк для стилизации |
| **shadcn/ui** | 3.5.0 | Библиотека готовых UI-компонентов |
| **Framer Motion** | 12.23.24 | Библиотека для создания анимаций |
| **Lucide React** | 0.553.0 | Набор иконок для React |

### 4.2. Backend-технологии

| Технология | Версия | Назначение |
|------------|--------|------------|
| **Node.js** | 24.10.0 | Серверная платформа JavaScript |
| **NextAuth.js** | 4.24.13 | Библиотека для аутентификации |
| **Prisma** | 6.19.0 | ORM для работы с базой данных |
| **PostgreSQL** | — | Реляционная база данных |
| **bcryptjs** | 3.0.3 | Библиотека для хеширования паролей |

### 4.3. Инструменты разработки

| Инструмент | Назначение |
|------------|------------|
| **ESLint** | Статический анализ кода JavaScript/TypeScript |
| **PostCSS** | Инструмент для трансформации CSS |
| **Autoprefixer** | Автоматическое добавление вендорных префиксов |
| **tsx** | TypeScript-исполнитель для Node.js |

---

## 5. АРХИТЕКТУРА ПРИЛОЖЕНИЯ

### 5.1. Структура проекта

```
CyberSportOrg/
├── src/
│   ├── app/                    # Страницы приложения (App Router)
│   │   ├── admin/             # Административная панель
│   │   │   └── page.tsx       # Главная страница админки
│   │   ├── api/               # API маршруты
│   │   │   ├── auth/          # Эндпоинты аутентификации
│   │   │   └── admin/         # Административные API
│   │   ├── auth/              # Страницы аутентификации
│   │   │   └── signin/        # Страница входа
│   │   ├── dashboard/         # Панель управления
│   │   │   └── page.tsx       # Главная страница дашборда
│   │   └── settings/          # Настройки пользователя
│   ├── components/            # React-компоненты
│   │   ├── admin/            # Компоненты админ-панели
│   │   ├── ui/               # UI-компоненты (shadcn/ui)
│   │   └── providers/        # Провайдеры контекста
│   ├── lib/                  # Вспомогательные библиотеки
│   │   ├── auth.ts          # Конфигурация NextAuth
│   │   ├── prisma.ts        # Клиент Prisma
│   │   └── utils.ts         # Утилиты
│   ├── scripts/             # Скрипты инициализации
│   │   ├── init-db.ts      # Создание администратора
│   │   └── seed-mock-data.ts # Генерация тестовых данных
│   └── types/              # TypeScript типы
├── prisma/                 # Схема базы данных
│   └── schema.prisma      # Определение моделей данных
├── public/                # Статические файлы
└── package.json          # Зависимости проекта
```


### 5.2. Модель базы данных

Приложение использует реляционную базу данных PostgreSQL со следующими основными сущностями:

**User (Пользователь)**
- id — уникальный идентификатор
- email — электронная почта (уникальная)
- password — хешированный пароль
- name — имя пользователя
- username — никнейм (уникальный)
- role — роль (ADMIN, MANAGER, PLAYER)
- avatar — аватар пользователя
- bio — биография
- createdAt — дата создания
- updatedAt — дата обновления

**Team (Команда)**
- id — уникальный идентификатор
- name — название команды
- tag — тег команды (уникальный)
- logo — логотип
- status — статус (ACTIVE, INACTIVE, DISBANDED)
- description — описание
- managerId — ID менеджера команды

**TeamMember (Участник команды)**
- id — уникальный идентификатор
- userId — ID пользователя
- teamId — ID команды
- role — игровая роль
- joinedAt — дата присоединения

**Tournament (Турнир)**
- id — уникальный идентификатор
- name — название турнира
- description — описание
- startDate — дата начала
- endDate — дата окончания
- prizePool — призовой фонд
- game — игра
- status — статус (UPCOMING, ONGOING, COMPLETED, CANCELLED)

**Game (Игра)**
- id — уникальный идентификатор
- name — название игры
- description — описание
- icon — иконка
- color — цвет темы
- playersPerTeam — количество игроков в команде

### 5.3. Система аутентификации

Приложение использует **NextAuth.js** для реализации аутентификации:

1. **Credentials Provider** — вход по email и паролю
2. **Session Strategy** — использование JWT токенов
3. **Password Hashing** — bcryptjs для безопасного хранения паролей
4. **Role-based Access Control** — проверка прав доступа на уровне маршрутов

---

## 6. ФУНКЦИОНАЛЬНЫЕ ВОЗМОЖНОСТИ

### 6.1. Система входа

**Страница входа** (`/auth/signin`):
- Форма с полями email и пароль
- Валидация данных на клиенте и сервере
- Обработка ошибок аутентификации
- Перенаправление на дашборд после успешного входа
- Современный дизайн с анимациями

**Процесс аутентификации:**
1. Пользователь вводит email и пароль
2. Данные отправляются на сервер через NextAuth
3. Сервер проверяет существование пользователя в БД
4. Сравнивается хеш пароля с введенным паролем
5. При успехе создается сессия и JWT токен
6. Пользователь перенаправляется на дашборд

### 6.2. Панель управления (Dashboard)

**Главная страница** (`/dashboard`):
- Персонализированное приветствие с именем пользователя
- Карточки быстрого доступа к разделам:
  - Команды — управление командами организации
  - Игроки — просмотр и управление игроками
  - Менеджеры — управление менеджерами команд
  - Турниры — просмотр и управление турнирами
  - Игры — управление списком игр
  - Админ-панель — доступна только администраторам

**Особенности интерфейса:**
- Адаптивная сетка карточек (2-3 колонки в зависимости от размера экрана)
- Анимация появления карточек с задержкой
- Эффект при наведении (увеличение и подсветка)
- Цветовые градиенты для каждой категории
- Иконки для визуальной идентификации разделов

### 6.3. Административная панель

**Доступ:** только для пользователей с ролью ADMIN

**Главная страница админки** (`/admin`):

**Статистика пользователей:**
- Общее количество пользователей
- Количество администраторов (красный цвет)
- Количество менеджеров (синий цвет)
- Количество игроков (зеленый цвет)

**Управление пользователями:**

1. **Просмотр списка пользователей**
   - Таблица со всеми пользователями системы
   - Отображаемые поля:
     - Email
     - Имя
     - Username
     - Роль (с цветовой индикацией)
     - Количество команд
     - Дата создания
   - Анимация появления строк таблицы
   - Подсветка строки при наведении

2. **Создание нового пользователя**
   - Кнопка "Создать пользователя" в правом верхнем углу
   - Модальное окно с формой:
     - Email (обязательное поле)
     - Имя
     - Username
     - Пароль (обязательное поле)
     - Роль (выбор из списка: Игрок, Менеджер, Администратор)
   - Валидация данных
   - Проверка уникальности email и username
   - Автоматическое хеширование пароля

3. **Редактирование пользователя**
   - Кнопка редактирования (иконка карандаша) для каждого пользователя
   - Модальное окно с предзаполненной формой
   - Возможность изменить:
     - Email
     - Имя
     - Username
     - Пароль (опционально, если оставить пустым — не изменится)
     - Роль
   - Сохранение изменений с обновлением в реальном времени

4. **Удаление пользователя**
   - Кнопка удаления (иконка корзины) для каждого пользователя
   - Подтверждение действия через диалоговое окно
   - Удаление пользователя из базы данных
   - Автоматическое обновление списка

5. **Очистка данных**
   - Специальная функция для удаления всех данных
   - Сохраняет текущего администратора
   - Используется для сброса системы к начальному состоянию


---

## 7. РУКОВОДСТВО АДМИНИСТРАТОРА

### 7.1. Первый вход в систему

**Шаг 1: Доступ к приложению**
1. Откройте браузер (рекомендуется Chrome, Firefox или Edge)
2. Перейдите по адресу приложения (например: `http://localhost:3000` для локальной разработки)
3. Вы будете автоматически перенаправлены на страницу входа

**Шаг 2: Вход с учетными данными администратора**
1. На странице входа введите:
   - Email: `admin@cybersport.org` (или значение из переменной ADMIN_EMAIL)
   - Пароль: `admin123` (или значение из переменной ADMIN_PASSWORD)
2. Нажмите кнопку "Войти"
3. После успешной аутентификации вы будете перенаправлены на дашборд

**Важно:** После первого входа рекомендуется изменить пароль администратора через раздел "Настройки".

### 7.2. Навигация по системе

**Главное меню (Navbar):**
- Логотип "Afina" — возврат на главную страницу
- Dashboard — панель управления
- Админ-панель — административные функции (только для администраторов)
- Настройки — настройки профиля
- Выход — завершение сеанса работы

**Панель управления (Dashboard):**
- Отображает карточки быстрого доступа ко всем разделам
- Для администратора доступны все разделы, включая "Админ-панель"

### 7.3. Управление пользователями

#### 7.3.1. Просмотр списка пользователей

1. Перейдите в раздел "Админ-панель" через главное меню или дашборд
2. На странице отображается:
   - Статистика по ролям в верхней части
   - Таблица всех пользователей системы
3. В таблице можно увидеть:
   - Email пользователя
   - Имя и username
   - Роль с цветовой индикацией:
     - Красный — Администратор
     - Синий — Менеджер
     - Зеленый — Игрок
   - Количество команд, в которых состоит пользователь
   - Дату создания учетной записи

#### 7.3.2. Создание нового пользователя

**Пошаговая инструкция:**

1. На странице админ-панели нажмите кнопку "Создать пользователя" (с иконкой пользователя)
2. В открывшемся модальном окне заполните форму:
   
   **Обязательные поля:**
   - **Email** — уникальный адрес электронной почты
     - Формат: `user@example.com`
     - Используется для входа в систему
   
   - **Пароль** — пароль для входа
     - Минимум 6 символов
     - Будет автоматически зашифрован
   
   **Опциональные поля:**
   - **Имя** — полное имя пользователя
   - **Username** — уникальный никнейм
   
   **Роль пользователя:**
   - **Игрок (PLAYER)** — базовая роль, доступ к просмотру информации
   - **Менеджер (MANAGER)** — управление командами и турнирами
   - **Администратор (ADMIN)** — полный доступ ко всем функциям

3. Нажмите кнопку "Создать"
4. При успешном создании:
   - Модальное окно закроется
   - Новый пользователь появится в таблице
   - Пользователь сможет войти с указанными учетными данными

**Возможные ошибки:**
- "Email уже используется" — выберите другой email
- "Username уже занят" — выберите другой username
- "Заполните обязательные поля" — проверьте email и пароль

#### 7.3.3. Редактирование пользователя

**Пошаговая инструкция:**

1. В таблице пользователей найдите нужного пользователя
2. Нажмите кнопку с иконкой карандаша в столбце "Действия"
3. В открывшемся модальном окне отобразится форма с текущими данными
4. Измените необходимые поля:
   - **Email** — новый адрес электронной почты
   - **Имя** — изменение имени
   - **Username** — новый никнейм
   - **Новый пароль** — оставьте пустым, если не хотите менять пароль
   - **Роль** — изменение роли пользователя

5. Нажмите кнопку "Сохранить"
6. Изменения вступят в силу немедленно

**Важные замечания:**
- При изменении email пользователь должен будет входить с новым адресом
- При изменении пароля пользователь должен будет использовать новый пароль
- Изменение роли влияет на доступные функции для пользователя
- Если поле "Новый пароль" оставлено пустым, текущий пароль не изменится

#### 7.3.4. Удаление пользователя

**Пошаговая инструкция:**

1. В таблице пользователей найдите пользователя для удаления
2. Нажмите кнопку с иконкой корзины в столбце "Действия"
3. Подтвердите удаление в диалоговом окне
4. Пользователь будет удален из системы

**Предупреждения:**
- Удаление пользователя необратимо
- Все связанные данные (членство в командах) также будут удалены
- Рекомендуется сначала убедиться, что пользователь не является менеджером активных команд

#### 7.3.5. Управление ролями

**Роли и их возможности:**

**Администратор (ADMIN):**
- Полный доступ ко всем функциям системы
- Управление пользователями (создание, редактирование, удаление)
- Изменение ролей других пользователей
- Доступ к административной панели
- Управление командами, турнирами и играми
- Просмотр статистики системы
- Очистка данных системы

**Менеджер (MANAGER):**
- Создание и управление командами
- Добавление и удаление игроков из команд
- Создание и управление турнирами
- Просмотр статистики команд
- Управление своим профилем
- Нет доступа к административной панели

**Игрок (PLAYER):**
- Просмотр информации о командах
- Просмотр списка турниров
- Просмотр информации об играх
- Управление своим профилем
- Нет доступа к созданию/редактированию данных

**Изменение роли пользователя:**
1. Откройте форму редактирования пользователя
2. В поле "Роль" выберите новую роль из выпадающего списка
3. Сохраните изменения
4. Новые права доступа вступят в силу при следующем входе пользователя

### 7.4. Мониторинг системы

**Статистика на главной странице админ-панели:**

1. **Всего пользователей** — общее количество зарегистрированных пользователей
2. **Администраторы** — количество пользователей с ролью ADMIN
3. **Менеджеры** — количество пользователей с ролью MANAGER
4. **Игроки** — количество пользователей с ролью PLAYER

**Рекомендации по мониторингу:**
- Регулярно проверяйте количество администраторов (не должно быть слишком много)
- Следите за балансом между менеджерами и игроками
- Проверяйте даты создания новых учетных записей
- Обращайте внимание на пользователей без команд

### 7.5. Очистка данных системы

**Функция очистки данных** позволяет удалить все данные из базы данных, кроме текущего администратора.

**Когда использовать:**
- При необходимости сброса системы к начальному состоянию
- Для удаления тестовых данных перед продакшеном
- При миграции на новую версию системы

**Пошаговая инструкция:**

1. Перейдите на страницу админ-панели
2. Найдите раздел "Очистка данных"
3. Нажмите кнопку "Очистить все данные"
4. Подтвердите действие в диалоговом окне
5. Дождитесь завершения операции

**Что будет удалено:**
- Все пользователи (кроме текущего администратора)
- Все команды
- Все участники команд
- Все турниры
- Все игры

**Что НЕ будет удалено:**
- Текущий администратор (вы)
- Структура базы данных
- Настройки системы

**Важно:** Это действие необратимо! Убедитесь, что у вас есть резервная копия данных, если они могут понадобиться.


### 7.6. Безопасность и лучшие практики

**Рекомендации по безопасности:**

1. **Управление паролями:**
   - Используйте сложные пароли (минимум 8 символов, буквы, цифры, спецсимволы)
   - Регулярно меняйте пароль администратора
   - Не используйте одинаковые пароли для разных пользователей
   - Не сообщайте пароли через незащищенные каналы связи

2. **Управление ролями:**
   - Назначайте роль администратора только доверенным лицам
   - Минимизируйте количество администраторов
   - Регулярно проверяйте список администраторов
   - При увольнении сотрудника немедленно удаляйте или блокируйте его учетную запись

3. **Мониторинг активности:**
   - Регулярно проверяйте список пользователей
   - Обращайте внимание на подозрительные учетные записи
   - Удаляйте неактивные учетные записи

4. **Резервное копирование:**
   - Регулярно создавайте резервные копии базы данных
   - Храните копии в безопасном месте
   - Проверяйте возможность восстановления из резервных копий

### 7.7. Решение типичных проблем

**Проблема: Не могу войти в систему**
- Решение: Проверьте правильность email и пароля
- Убедитесь, что используете правильный регистр символов
- Проверьте, что учетная запись не была удалена

**Проблема: Не вижу кнопку "Админ-панель"**
- Решение: Убедитесь, что ваша роль — ADMIN
- Попробуйте выйти и войти снова
- Обратитесь к другому администратору для проверки вашей роли

**Проблема: Не могу создать пользователя с определенным email**
- Решение: Этот email уже используется другим пользователем
- Проверьте список пользователей
- Используйте другой email адрес

**Проблема: Изменения не сохраняются**
- Решение: Проверьте подключение к интернету
- Убедитесь, что заполнены все обязательные поля
- Попробуйте обновить страницу и повторить операцию

---

## 8. УСТАНОВКА И РАЗВЕРТЫВАНИЕ

### 8.1. Локальная установка

**Требования:**
- Node.js версии 18 или выше
- PostgreSQL версии 12 или выше
- npm или yarn
- Git

**Пошаговая инструкция:**

**Шаг 1: Клонирование репозитория**
```bash
git clone <repository-url>
cd CyberSportOrg
```

**Шаг 2: Установка зависимостей**
```bash
npm install
```

**Шаг 3: Настройка переменных окружения**
```bash
cp .env.example .env
```

Отредактируйте файл `.env`:
```env
DATABASE_URL="postgresql://user:password@localhost:5432/cybersport"
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secret-key-here"
ADMIN_EMAIL="admin@cybersport.org"
ADMIN_PASSWORD="admin123"
```

**Шаг 4: Инициализация базы данных**
```bash
# Применить схему к базе данных
npm run db:push

# Сгенерировать Prisma Client
npm run db:generate

# Создать администратора
npm run db:seed
```

**Шаг 5: Запуск приложения**
```bash
# Режим разработки
npm run dev

# Приложение будет доступно по адресу http://localhost:3000
```

### 8.2. Развертывание на Render

**Подготовка:**

1. Создайте аккаунт на [Render.com](https://render.com)
2. Подготовьте Git-репозиторий с кодом проекта

**Шаг 1: Создание базы данных PostgreSQL**

1. В панели Render нажмите "New +" → "PostgreSQL"
2. Заполните параметры:
   - Name: `cybersport-db`
   - Database: `cybersport`
   - User: `cybersport_user`
   - Region: выберите ближайший регион
3. Нажмите "Create Database"
4. Скопируйте "Internal Database URL" (начинается с `postgresql://`)

**Шаг 2: Создание Web Service**

1. В панели Render нажмите "New +" → "Web Service"
2. Подключите ваш Git-репозиторий
3. Заполните параметры:
   - Name: `cybersport-app`
   - Environment: `Node`
   - Region: тот же, что и для базы данных
   - Branch: `main` (или ваша основная ветка)
   - Build Command: `npm install && npm run build`
   - Start Command: `npm start`

**Шаг 3: Настройка переменных окружения**

В разделе "Environment Variables" добавьте:

```
DATABASE_URL = <Internal Database URL из шага 1>
NEXTAUTH_URL = https://your-app-name.onrender.com
NEXTAUTH_SECRET = <сгенерируйте случайную строку>
ADMIN_EMAIL = admin@cybersport.org
ADMIN_PASSWORD = <ваш безопасный пароль>
```

**Шаг 4: Деплой**

1. Нажмите "Create Web Service"
2. Render автоматически:
   - Установит зависимости
   - Сгенерирует Prisma Client
   - Соберет приложение
   - Запустит сервер

**Шаг 5: Инициализация базы данных**

После успешного деплоя:

1. Откройте Shell вашего сервиса в Render
2. Выполните команды:
```bash
npm run db:push
npm run db:seed
```

**Шаг 6: Проверка**

1. Откройте URL вашего приложения
2. Войдите с учетными данными администратора
3. Проверьте работу всех функций

### 8.3. Скрипты для работы с базой данных

```bash
# Применить изменения схемы к БД
npm run db:push

# Создать миграцию
npm run db:migrate

# Сгенерировать Prisma Client
npm run db:generate

# Создать администратора
npm run db:seed

# Заполнить БД тестовыми данными
npm run db:seed:mock

# Инициализация для продакшена
npm run db:init
```

---

## 9. РАБОТА С ПРОЕКТОМ

### 9.1. Команды разработки

```bash
# Запуск dev-сервера с hot-reload
npm run dev

# Сборка проекта для продакшена
npm run build

# Запуск production-сервера
npm start

# Проверка кода линтером
npm run lint

# Работа с shadcn/ui компонентами
npm run shadcn
```

### 9.2. Структура API

**Аутентификация:**
- `POST /api/auth/signin` — вход в систему
- `POST /api/auth/signout` — выход из системы
- `GET /api/auth/session` — получение текущей сессии

**Административные API:**
- `GET /api/admin/users` — получение списка пользователей
- `POST /api/admin/users` — создание пользователя
- `PUT /api/admin/users/[id]` — обновление пользователя
- `DELETE /api/admin/users/[id]` — удаление пользователя
- `POST /api/admin/clear-data` — очистка данных

### 9.3. Добавление новых компонентов UI

Проект использует библиотеку shadcn/ui. Для добавления новых компонентов:

```bash
# Добавить компонент
npx shadcn@latest add [component-name]

# Примеры:
npx shadcn@latest add button
npx shadcn@latest add dialog
npx shadcn@latest add table
```

---

## 10. РЕЗУЛЬТАТЫ РАБОТЫ

### 10.1. Достигнутые цели

В результате выполнения лабораторной работы было разработано полнофункциональное веб-приложение для управления киберспортивной организацией со следующими характеристиками:

1. **Реализована система аутентификации и авторизации**
   - Безопасный вход с использованием NextAuth.js
   - Хеширование паролей с bcryptjs
   - Управление сессиями пользователей

2. **Создана система ролей**
   - Три уровня доступа: Администратор, Менеджер, Игрок
   - Разграничение прав доступа к функциям
   - Защита маршрутов на основе ролей

3. **Разработана административная панель**
   - Управление пользователями (CRUD операции)
   - Статистика по пользователям
   - Изменение ролей
   - Очистка данных системы

4. **Создан современный пользовательский интерфейс**
   - Адаптивный дизайн для всех устройств
   - Темная тема с градиентами
   - Плавные анимации и переходы
   - Интуитивная навигация

5. **Реализована работа с базой данных**
   - Проектирование схемы БД
   - Использование Prisma ORM
   - Миграции и seed-скрипты

6. **Выполнено развертывание**
   - Настроена конфигурация для Render
   - Подготовлены скрипты инициализации
   - Документация по деплою


### 10.2. Функциональные возможности приложения

**Для администратора:**
- ✅ Полный доступ ко всем функциям системы
- ✅ Создание новых пользователей с назначением ролей
- ✅ Редактирование данных пользователей
- ✅ Удаление пользователей из системы
- ✅ Изменение ролей пользователей
- ✅ Просмотр статистики по пользователям
- ✅ Очистка данных системы
- ✅ Управление командами и турнирами

**Для менеджера:**
- ✅ Создание и управление командами
- ✅ Добавление игроков в команды
- ✅ Управление турнирами
- ✅ Просмотр статистики

**Для игрока:**
- ✅ Просмотр информации о командах
- ✅ Просмотр турниров
- ✅ Управление своим профилем

### 10.3. Технические характеристики

**Производительность:**
- Серверный рендеринг (SSR) для быстрой загрузки страниц
- Оптимизация изображений и статических ресурсов
- Кеширование данных на уровне Prisma
- Минификация CSS и JavaScript

**Безопасность:**
- Хеширование паролей с использованием bcrypt (10 раундов)
- Защита от SQL-инъекций через Prisma ORM
- Валидация данных на клиенте и сервере
- Защита маршрутов с проверкой ролей
- Безопасное хранение сессий через JWT

**Масштабируемость:**
- Модульная архитектура
- Разделение на компоненты
- Использование TypeScript для типобезопасности
- Готовность к горизонтальному масштабированию

### 10.4. Скриншоты интерфейса

**Страница входа:**
- Современный дизайн с градиентами
- Форма с валидацией
- Обработка ошибок
- Анимация появления

**Панель управления (Dashboard):**
- Персонализированное приветствие
- Карточки быстрого доступа
- Адаптивная сетка
- Анимации при наведении

**Административная панель:**
- Статистика в виде карточек
- Таблица пользователей
- Кнопки действий для каждого пользователя
- Модальные окна для создания/редактирования

**Таблица пользователей:**
- Отображение всех данных пользователя
- Цветовая индикация ролей
- Кнопки редактирования и удаления
- Анимация строк таблицы

---

## 11. ВЫВОДЫ

### 11.1. Полученные навыки

В процессе выполнения лабораторной работы были получены следующие практические навыки:

**Frontend-разработка:**
- Работа с React 19 и Next.js 16
- Использование TypeScript для типобезопасности
- Создание адаптивных интерфейсов с Tailwind CSS
- Работа с библиотекой компонентов shadcn/ui
- Реализация анимаций с Framer Motion
- Управление состоянием компонентов

**Backend-разработка:**
- Создание API маршрутов в Next.js
- Работа с базой данных через Prisma ORM
- Проектирование схемы реляционной БД
- Реализация аутентификации с NextAuth.js
- Хеширование паролей с bcryptjs
- Обработка ошибок и валидация данных

**DevOps:**
- Настройка переменных окружения
- Работа с PostgreSQL
- Развертывание на облачной платформе Render
- Создание скриптов для автоматизации
- Работа с миграциями базы данных

**Архитектура:**
- Проектирование модульной архитектуры
- Разделение на слои (presentation, business logic, data)
- Реализация паттерна MVC
- Организация структуры проекта

### 11.2. Практическая значимость

Разработанное приложение имеет практическую ценность и может быть использовано:

1. **Киберспортивными организациями** для управления командами, игроками и турнирами
2. **Образовательными учреждениями** для организации киберспортивных секций
3. **Игровыми клубами** для координации деятельности
4. **Турнирными операторами** для управления участниками

### 11.3. Возможности для развития

Приложение может быть расширено следующими функциями:

**Краткосрочные улучшения:**
- Добавление аватаров пользователей
- Расширенная статистика и аналитика
- Система уведомлений
- Экспорт данных в различные форматы
- Поиск и фильтрация в таблицах

**Среднесрочные улучшения:**
- Управление турнирами с сеткой игр
- Система рейтингов игроков
- Интеграция с игровыми платформами (Steam, Battle.net)
- Календарь событий
- Чат между пользователями

**Долгосрочные улучшения:**
- Мобильное приложение (React Native)
- Система трансляций
- Интеграция с платежными системами
- Многоязычность интерфейса
- API для сторонних приложений

### 11.4. Заключение

В ходе выполнения лабораторной работы была достигнута поставленная цель — разработано полнофункциональное веб-приложение для управления киберспортивной организацией. Приложение демонстрирует использование современных технологий веб-разработки и может служить основой для создания более сложных систем управления.

Особое внимание было уделено:
- Безопасности (хеширование паролей, защита маршрутов)
- Удобству использования (интуитивный интерфейс, анимации)
- Масштабируемости (модульная архитектура, TypeScript)
- Производительности (серверный рендеринг, оптимизация)

Приложение готово к использованию в реальных условиях и может быть развернуто на любой облачной платформе, поддерживающей Node.js и PostgreSQL.

---

## 12. СПИСОК ИСПОЛЬЗОВАННЫХ ИСТОЧНИКОВ

1. **Next.js Documentation** — https://nextjs.org/docs
   - Официальная документация по Next.js 16
   - App Router и серверные компоненты

2. **React Documentation** — https://react.dev
   - Документация по React 19
   - Hooks и управление состоянием

3. **Prisma Documentation** — https://www.prisma.io/docs
   - Работа с Prisma ORM
   - Миграции и схема базы данных

4. **NextAuth.js Documentation** — https://next-auth.js.org
   - Реализация аутентификации
   - Credentials Provider

5. **Tailwind CSS Documentation** — https://tailwindcss.com/docs
   - Utility-first CSS фреймворк
   - Адаптивный дизайн

6. **shadcn/ui Documentation** — https://ui.shadcn.com
   - Библиотека UI компонентов
   - Кастомизация компонентов

7. **Framer Motion Documentation** — https://www.framer.com/motion
   - Анимации в React
   - Переходы и эффекты

8. **TypeScript Documentation** — https://www.typescriptlang.org/docs
   - Типизация в JavaScript
   - Best practices

9. **PostgreSQL Documentation** — https://www.postgresql.org/docs
   - Реляционная база данных
   - SQL запросы

10. **Render Documentation** — https://render.com/docs
    - Развертывание приложений
    - Настройка окружения

---

## ПРИЛОЖЕНИЯ

### Приложение А. Переменные окружения

```env
# Database
DATABASE_URL="postgresql://user:password@host:5432/database"

# NextAuth
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secret-key-minimum-32-characters"

# Admin credentials
ADMIN_EMAIL="admin@cybersport.org"
ADMIN_PASSWORD="secure-password-here"
```

### Приложение Б. Основные команды

```bash
# Установка
npm install

# Разработка
npm run dev

# Сборка
npm run build

# Продакшен
npm start

# База данных
npm run db:push
npm run db:generate
npm run db:seed

# Линтинг
npm run lint
```

### Приложение В. Структура базы данных

```prisma
model User {
  id            String    @id @default(cuid())
  email         String    @unique
  password      String
  name          String?
  username      String?   @unique
  role          Role      @default(PLAYER)
  avatar        String?
  bio           String?
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
}

enum Role {
  ADMIN
  PLAYER
  MANAGER
}
```

### Приложение Г. API Endpoints

**Аутентификация:**
```
POST   /api/auth/signin
POST   /api/auth/signout
GET    /api/auth/session
```

**Пользователи:**
```
GET    /api/admin/users
POST   /api/admin/users
PUT    /api/admin/users/[id]
DELETE /api/admin/users/[id]
```

**Система:**
```
POST   /api/admin/clear-data
```

---

## ГЛОССАРИЙ

**API (Application Programming Interface)** — интерфейс программирования приложений, набор методов для взаимодействия с системой.

**CRUD** — Create, Read, Update, Delete — базовые операции с данными.

**JWT (JSON Web Token)** — стандарт для создания токенов доступа.

**ORM (Object-Relational Mapping)** — технология связывания объектов с записями в базе данных.

**SSR (Server-Side Rendering)** — серверный рендеринг страниц.

**TypeScript** — типизированный надмножество JavaScript.

**Хеширование** — преобразование данных в строку фиксированной длины.

**Middleware** — промежуточное ПО для обработки запросов.

**Component** — переиспользуемый элемент интерфейса.

**Hook** — функция для использования возможностей React.

---

**Дата выполнения:** Декабрь 2024

**Подпись студента:** _______________

**Подпись преподавателя:** _______________

**Оценка:** _______________
