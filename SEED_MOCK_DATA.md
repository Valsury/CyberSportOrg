# –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ API

## –û–ø–∏—Å–∞–Ω–∏–µ

API endpoint –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Render (–∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ). –°–æ–∑–¥–∞–µ—Ç:
- 8 –∏–≥—Ä–æ–∫–æ–≤ —Å –∞–≤–∞—Ç–∞—Ä–∞–º–∏
- 2 –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- 2 –∫–æ–º–∞–Ω–¥—ã (CS2 –∏ Dota 2) —Å –∏–≥—Ä–æ–∫–∞–º–∏
- 4 —Ç—É—Ä–Ω–∏—Ä–∞

## Endpoint

**URL:** `POST /api/admin/seed-mock-data`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: —á–µ—Ä–µ–∑ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (INIT_DB_SECRET) –ò–õ–ò —Å–µ—Å—Å–∏—è ADMIN
- –ú–µ—Ç–æ–¥: POST

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ ReqBin (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø) ‚≠ê

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://reqbin.com
2. –ú–µ—Ç–æ–¥: **POST**
3. URL: `https://your-app-name.onrender.com/api/admin/seed-mock-data`
   - –ó–∞–º–µ–Ω–∏—Ç–µ `your-app-name` –Ω–∞ –∏–º—è –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ Render
4. –í–∫–ª–∞–¥–∫–∞ **Headers**:
   - **Name**: `Authorization`
   - **Value**: `Bearer –í–ê–®_–°–ï–ö–†–ï–¢–ù–´–ô_–ö–õ–Æ–ß`
   - –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á –∏–∑ Render Dashboard ‚Üí Web Service ‚Üí Environment ‚Üí `INIT_DB_SECRET`
5. –ù–∞–∂–º–∏—Ç–µ **Send**

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ curl (–∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞)

```bash
# –ü–æ–ª—É—á–∏—Ç–µ INIT_DB_SECRET –∏–∑ Render Dashboard ‚Üí Web Service ‚Üí Environment

curl -X POST https://your-app-name.onrender.com/api/admin/seed-mock-data \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer –í–ê–®_INIT_DB_SECRET"
```

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ Postman/Insomnia

1. –°–æ–∑–¥–∞–π—Ç–µ POST –∑–∞–ø—Ä–æ—Å –Ω–∞ `https://your-app-name.onrender.com/api/admin/seed-mock-data`
2. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Content-Type: application/json`
3. –î–æ–±–∞–≤—å—Ç–µ cookie —Å–µ—Å—Å–∏–∏ (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞)

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä (JavaScript Console) - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—ã ADMIN

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –∫–∞–∫ –∞–¥–º–∏–Ω) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
fetch('/api/admin/seed-mock-data', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  credentials: 'include', // –í–∞–∂–Ω–æ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ cookies
})
  .then(res => res.json())
  .then(data => {
    console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', data);
    if (data.success) {
      alert('‚úÖ –ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!\n\n' + 
            `–ò–≥—Ä–æ–∫–æ–≤: ${data.stats.players}\n` +
            `–ú–µ–Ω–µ–¥–∂–µ—Ä–æ–≤: ${data.stats.managers}\n` +
            `–ö–æ–º–∞–Ω–¥: ${data.stats.teams}\n` +
            `–¢—É—Ä–Ω–∏—Ä–æ–≤: ${data.stats.tournaments}`);
    } else {
      alert('‚ùå –û—à–∏–±–∫–∞: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'));
    }
  })
  .catch(error => {
    console.error('–û—à–∏–±–∫–∞:', error);
    alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö');
  });
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ —ç—Ç–æ—Ç —Å–ø–æ—Å–æ–± –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –°–ø–æ—Å–æ–± 1 —Å —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –∫–ª—é—á–æ–º.

## –û—Ç–≤–µ—Ç

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200)

```json
{
  "success": true,
  "message": "Mock data seeded successfully",
  "results": [
    "üìù –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤...",
    "  ‚úÖ –°–æ–∑–¥–∞–Ω –∏–≥—Ä–æ–∫: –ê–ª–µ–∫—Å–µ–π 'S1mple' –ö–æ—Å—Ç–∏–ª–µ–≤ (player1@afina.org)",
    "...",
    "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:",
    "  - –ò–≥—Ä–æ–∫–æ–≤: 8",
    "  - –ú–µ–Ω–µ–¥–∂–µ—Ä–æ–≤: 2",
    "  - –ö–æ–º–∞–Ω–¥: 2",
    "  - –¢—É—Ä–Ω–∏—Ä–æ–≤: 4 –Ω–æ–≤—ã—Ö"
  ],
  "stats": {
    "players": 8,
    "managers": 2,
    "teams": 2,
    "tournaments": 4
  }
}
```

### –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (401)

```json
{
  "error": "Unauthorized. Admin access required."
}
```

### –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (500)

```json
{
  "success": false,
  "error": "Error message",
  "details": "Error code"
}
```

## –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏:

**–ò–≥—Ä–æ–∫–∏:**
- Email: `player1@afina.org` - `player8@afina.org`
- –ü–∞—Ä–æ–ª—å: `player123`

**–ú–µ–Ω–µ–¥–∂–µ—Ä—ã:**
- Email: `manager1@afina.org`, `manager2@afina.org`
- –ü–∞—Ä–æ–ª—å: `manager123`

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
- –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç, –æ–Ω–∏ –Ω–µ –±—É–¥—É—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω—ã
- –ê–≤–∞—Ç–∞—Ä—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ DiceBear API
- –í—Å–µ –ø–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é bcryptjs

## –õ–æ–∫–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–∞–ø—Ä—è–º—É—é:

```bash
npm run db:seed:mock
```

–ù–æ –¥–ª—è Render —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API endpoint, —Ç–∞–∫ –∫–∞–∫ Shell –ø–ª–∞—Ç–Ω—ã–π.

